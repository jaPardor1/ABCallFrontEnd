<!-- <code style="margin:0px auto;">
  {{form.invalid}}
  {{form.value | json}}
</code> -->
<form class="mt-2" (submit)="saveInfo()" [formGroup]="form">
  <div class="container">

    <div class="row" >
      <div class="col-3">
        <label>Perfil</label>
      </div>
      <div class="col-3">
        <mat-error *ngIf="form.invalid">{{getErrorProfileField()}}</mat-error>
        <mat-form-field>
          <mat-label>Seleccione Tipo De perfil</mat-label>
          <mat-select formControlName="user_role">
            <mat-option *ngFor="let op of profiles" [value]="op.id">{{op.profileName}}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div *ngIf="form.value.user_role=='Client'" class="col-3">
        <label for="">Seleccione el tipo de plan </label>
      </div>
      <div *ngIf="form.value.user_role=='Client'" class="col-3">
        <mat-error *ngIf="form.invalid">{{getErrorPlanField()}}</mat-error>
        <mat-form-field>
          <mat-label>Seleccione Tipo De plan</mat-label>
          <mat-select formControlName="plan">
            <mat-option *ngFor="let op of subscriptionsPlan" [value]="op.id">{{op.subscrptionName}}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </div>
    <div class="row">
      <div class="col-3">
        <label>Tipo Identificación</label>
      </div>
      <div class="col-3">
        <mat-error *ngIf="form.invalid">{{getErrorIdentificationTypeField()}}</mat-error>
        <mat-form-field>
          <mat-label>Seleccione tipo de Identificación</mat-label>
          <mat-select formControlName="document_type">
            <mat-option  *ngFor="let op of documentIds" [value]="op.id">{{op.documentName}}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="col-3">
        <label>Identificación</label>
      </div>
      <div class="col-3">
        <mat-error *ngIf="form.invalid">{{getErrorIdentificacionField()}}</mat-error>
        <mat-form-field>
          <mat-label>Identificación</mat-label>
          <input formControlName="id_number" matInput>
        </mat-form-field>
      </div>
    </div>
    <div *ngIf="form.value.user_role!='Client'" class="row" >
      <div class="col-3"><label for="">Nombres</label></div>
      <div class="col-3">
        <mat-error *ngIf="form.invalid">{{getErrorNameField()}}</mat-error>
        <mat-form-field>
          <mat-label>Nombres</mat-label>
          <input formControlName="name"  matInput>
        </mat-form-field>
      </div>
      <div class="col-3"><label for="">Apellidos</label></div>
      <div class="col-3">
        <mat-error *ngIf="form.invalid">{{getErrorLastNameField()}}</mat-error>
        <mat-form-field>
          <mat-label>Apellidos</mat-label>
          <input formControlName="last_name" matInput>
        </mat-form-field>
      </div>
    </div>

  </div>
  <!--datos de la empresa-->
  <div *ngIf="form.value.user_role=='Client'" class="container" name="info_company_data">
    <div class="row">
      <div class="col-3">
        <label>Razón social*</label>
      </div>
      <div class="col-3">
        <mat-error *ngIf="form.invalid">{{getErrorRazonSocialField()}}</mat-error>
        <mat-form-field>
          <mat-label>Razón social</mat-label>
          <input formControlName="razonSocialEmpresa" matInput>
        </mat-form-field>
      </div>
      <div class="col-3">
        <label>Dirección empresa</label>
      </div>
      <div class="col-3">
        <mat-error *ngIf="form.invalid">{{getErrorDireccionEmpresaField()}}</mat-error>
        <mat-form-field [style.width.px]=327>
          <mat-label>Dirección Empresa</mat-label>
          <input formControlName="direccionEmpresa" matInput>
        </mat-form-field>
      </div>

    </div>
    <div class="row">
      <div class="col-3">
        <label for="">Tipo Identificación rep. legal</label>
      </div>
      <div class="col-3">
        <mat-error *ngIf="form.invalid">{{getErrorLegalrepIdTypeField()}}</mat-error>
        <mat-form-field>
          <mat-label>Seleccione tipo de Identificación</mat-label>
          <mat-select formControlName="tipoIdentificacionRepLegal">
            <mat-option *ngFor="let op of documentIds" [value]="op.id">{{op.documentName}}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="col-3">
        <label for="">Identificación rep. legal</label>
      </div>
      <div class="col-3">
        <mat-error *ngIf="form.invalid">{{getErrorLegalrepIdField()}}</mat-error>
        <mat-form-field>
          <mat-label>Identificación Rep. Legal</mat-label>
          <input formControlName="identificacionRepLegal" matInput>
        </mat-form-field>
      </div>
    </div>
    <div class="row">
      <div class="col-3"><label for="">Nombres rep. legal</label></div>
      <div class="col-3">
        <mat-error *ngIf="form.invalid">{{getErrorLegalrepNamesField()}}</mat-error>
        <mat-form-field>
          <mat-label>Nombres Rep. legal</mat-label>
          <input formControlName="nombresRepLegal" matInput>
        </mat-form-field>
      </div>
      <div class="col-3">
         <label for="">Apellidos Rep. Legal</label>
      </div>
      <div class="col-3">
        <mat-error *ngIf="form.invalid">{{getErrorLegalrepLastNamesField()}}</mat-error>
        <mat-form-field>
          <mat-label>Apellidos Rep. Legal</mat-label>
          <input formControlName="apellidosRepLegal" matInput>
        </mat-form-field>
      </div>
    </div>
  </div>
  <div class="container">
    <div class="row">
      <div class="col-3"> <label for="">Correo electrónico</label></div>
      <div class="col-3">
        <mat-error *ngIf="form.invalid">{{getErrorEmailField()}}</mat-error>
        <mat-form-field>
        <mat-label>Correo electrónico</mat-label>
        <input formControlName="email" matInput>
      </mat-form-field>
    </div>
      <div class="col-3"><label for="">Teléfono</label></div>
      <div class="col-3">
        <mat-error *ngIf="form.invalid">{{getErrorTelephoneField()}}</mat-error>
        <mat-form-field>
          <mat-label>Teléfono</mat-label>
          <input formControlName="cellphone" matInput>
        </mat-form-field>
      </div>
    </div>
    <div class="row">
      <div class="col-3 highline border-up pt-2">
       <label for="">Contraseña*</label>
      </div>
      <div class="col-3 highline border-up pt-2">
        <mat-error *ngIf="form.invalid">{{getErrorPasswordField()}}</mat-error>
        <mat-form-field>
          <mat-label>Contraseña</mat-label>
          <input formControlName="password" type="password" matInput>
        </mat-form-field>
      </div>
    </div>
    <div class="row">
      <div class="col-3 highline border-down" >
        <label for="">Repetir Contraseña*</label>
      </div>
      <div class="col-3 highline border-down">

        <mat-form-field>
          <mat-label>Contraseña</mat-label>
          <input formControlName="password2" type="password" matInput>
        </mat-form-field>
      </div>
      <div class="col-6">
        <div class="col d-flex justify-content-center">
        <button [disabled]="form.invalid" >Guardar</button>
      </div>
      </div>
    </div>

  </div>
</form>
