<div class="register-page">
  <div class="register-form">
    <h1> {{'registoModule.title' | translate}}   </h1>
    <form [formGroup]="registroForm" (ngSubmit)="onSubmit()">
      <div class="form-row">
        <!-- Primera columna -->
        <div class="form-column">

          <label i18n="registro-tipo-identificacion" for="tipo-identificacion">{{'registoModule.tipoIdentificacion' | translate}}</label>
          <select id="tipo-identificacion" formControlName="tipoIdentificacion" [ngClass]="{'is-invalid': isFieldInvalid('tipoIdentificacion')}">
            <option value="Cedula">Cédula</option>
            <option value="Cedula_Extranjeria">Cédula de Extranjería</option>
            <option value="Passport">Pasaporte</option>
          </select>
          <label for="nombres">{{'registoModule.lblNombres' | translate}}</label>
          <input type="text" id="nombres" formControlName="nombres" [attr.placeholder]="'registoModule.nombrePlaceHolder' | translate" [ngClass]="{'is-invalid': isFieldInvalid('nombres')}"/>
          <label for="empresa">{{'registoModule.empresaLbl' | translate}}</label>
          <select id="empresa" formControlName="empresa" [ngClass]="{'is-invalid': isFieldInvalid('empresa')}">
            <option *ngFor="let empresa of empresaNombres">{{ empresa }}</option>
          </select>
          <label i18n="registro-correo" for="correo">{{'registoModule.emailLbl' | translate}}</label>
          <input type="email"  id="correo" formControlName="correo"  [attr.placeholder]="'registoModule.placeHoldrLoginEmail' |translate" [ngClass]="{'is-invalid': isFieldInvalid('correo')}"/>

        </div>

        <!-- Segunda columna -->
        <div class="form-column">
          <label for="identificacion">{{'registoModule.identificacionlbl' | translate}}</label>
          <input type="text" id="identificacion" formControlName="identificacion" [attr.placeholder]="'registoModule.placeHoldrIdentificacion' |translate" [ngClass]="{'is-invalid': isFieldInvalid('identificacion')}"/>

          <label for="apellidos">{{'registoModule.apellidolbl'|translate}}</label>
          <input type="text" id="apellidos" formControlName="apellidos" [attr.placeholder]="'registoModule.placeHoldrApellido'|translate" [ngClass]="{'is-invalid': isFieldInvalid('apellidos')}"/>

          <label  for="tipo-comunicacion">{{'registoModule.tipoComunicacionLbl'|translate}}</label>
          <select id="tipo-comunicacion" formControlName="tipoComunicacion">
            <option value="Sms">Sms</option>
            <option value="Email">Email</option>
            <option value="Telefono">Teléfono</option>
            <option value="Chat">Chat</option>
          </select>
          <label for="telefono">{{'registoModule.telefonolbl' | translate}}</label>
          <input type="text" id="telefono" formControlName="telefono"  [attr.placeholder]="'registoModule.placeHoldrtelefono'|translate" [ngClass]="{'is-invalid': isFieldInvalid('telefono')}"/>

        </div>
      </div>

      <div class="form-row highlight-box">
        <!-- Tercera columna para contraseña -->
        <div class="form-column">
          <label  for="contrasena">{{'registoModule.contraseniaLbl'| translate}}</label>
          <div class="password-wrapper">
            <input
              [type]="showPassword ? 'text' : 'password'"
              id="contrasena"
              formControlName="contrasena"
              
              [attr.placeholder]="'registoModule.placeHoldrcontrasenia'|translate"
              [ngClass]="{'is-invalid': isFieldInvalid('contrasena')}"
            />
            <button type="button" (click)="togglePasswordVisibility('contrasena')" class="toggle-password">
              <i [ngClass]="showPassword ? 'fas fa-eye-slash' : 'fas fa-eye'"></i>
            </button>
          </div>

          <label   for="repetir-contrasena">{{'registoModule.repetircontraseniaLbl'|translate}}</label>
          <div class="password-wrapper">
            <input
              [type]="showRepeatPassword ? 'text' : 'password'"
              id="repetir-contrasena"
              formControlName="repetirContrasena"
              
              [attr.placeholder]="'registoModule.placeHoldrRepcontrasenia'|translate"
              [ngClass]="{'is-invalid': isFieldInvalid('repetirContrasena')}"
            />
            <button type="button" (click)="togglePasswordVisibility('repetirContrasena')" class="toggle-password">
              <i [ngClass]="showRepeatPassword ? 'fas fa-eye-slash' : 'fas fa-eye'"></i>
            </button>
          </div>
        </div>
      </div>

      <!-- Botones -->
      <div class="form-buttons" style="display: flex; justify-content: center; gap: 10px;">
        <button  type="button" class="btn-regresar" (click)="onCancel()">{{'registoModule.cancelButton'| translate}}</button>
        <button  type="submit" class="btn-registrar">{{'registoModule.registrarButton'| translate}}</button>
      </div>
    </form>
  </div>

  <!-- Modal para errores y éxito -->
  <div *ngIf="showErrorModal" class="modal">
    <div [ngClass]="modalType === 'success' ? 'modal-content success' : 'modal-content error'">
      <span class="close" (click)="closeErrorModal()">&times;</span>
      <p>{{ modalMessage }}</p> 
    </div>
  </div>


</div>



